# C++模板，J.R.需要知道的

### 0. Keep in mind

1. template是一个**编译时**的概念/机制，在得到可执行文件之后，template就不存在了。

### 1. 函数模板

首先从最简单的情况开始，即函数模板，如下：

```c++
template <typename T>
int compare(const T &v1, const T &v2) {
    if (v1 < v2) return -1;
    if (v2 < v1) return 1;
    
    return 0;
}
```

这个最简单的情况是无需多言的，涉及了几个基本概念：
(1) template关键字后面的，尖括号内的东西，是**模板参数列表（template parameter list）**
(2) 同理，模板参数列表里面是若干个用逗号分隔的**模板参数（template parameter）**
(3) 在实际编译的时候，编译器会把具体的类型绑定到模板参数上，这时这个具体的类型称为**模板实参（template argument）**
(4) 编译器利用模板实参，可以从函数模板中进行**实例化（instantiate）**，并且得到模板的**实例（instantiation）**

接下来，我们需要了解一下，在编译过程中发生了什么：
（1）编译器遇到了一个函数模板定义，**什么都不做**。
（2）编译器遇到了对函数模板的使用，寻找对应的函数模板定义并完成实例化，之后对实例化的函数进行编译。
（3）由于编译器在实例化的过程中，需要完全了解函数模板的声明+定义，所以常用的写法是，**在头文件里面同时写函数模板/类模版成员函数声明和定义**。





